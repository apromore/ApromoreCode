<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns2:CanonicalProcess xmlns:ns2="http://www.apromore.org/CPF" uri="MakeTripProcessWithMICtasks.ywl" version="1.0" name="MakeTripProcessWithMICtasks.ywl" author="ouyang" rootIds="id-N-make-trip">
    <Net id="id-N-make-trip" originalID="make_trip">
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:EventType" id="id-C-InputCondition-1" originalID="InputCondition_1"/>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" id="id-C-register-83" originalID="register_83">
            <name>register</name>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>legs</name>
                    <type>legsType</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>payAccNumber</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="resourcing">
                <resourcing:resourcing xmlns:resourcing="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <offer initiator="user"/>
                    <allocate initiator="user"/>
                    <start initiator="user"/>
                </resourcing:resourcing>
            </attribute>
            <attribute name="secondary">
                <secondary:secondary xmlns:secondary="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema" xsi:nil="true"/>
            </attribute>
            <objectRef id="id-960f4251-2940-4204-a73f-1c847dc520c6" objectId="id-D-id-N-make-trip-payAccNumber" type="output" optional="false" consumed="true"/>
            <objectRef id="id-ce679393-3b29-4123-9968-60462e755207" objectId="id-D-id-N-make-trip-customer" type="output" optional="false" consumed="true"/>
            <objectRef id="id-35ac5ee0-82b0-4c36-bf72-5af815e940be" objectId="id-D-id-N-make-trip-legs" type="output" optional="false" consumed="true"/>
            <objectRef id="id-e62b225e-4daa-4ebe-8c23-48d6caaa2730" objectId="id-D-id-N-make-trip-customer" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/make_trip/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>payAccNumber = &lt;payAccNumber&gt;{/register/payAccNumber/text()}&lt;/payAccNumber&gt;</expression>
            </outputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/register/customer/text()}&lt;/customer&gt;</expression>
            </outputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>legs = &lt;legs&gt;{/register/legs/*}&lt;/legs&gt;</expression>
            </outputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" subnetId="id-N-do-itinerary-segment" id="id-C-do-itinerary-segment-5" originalID="do_itinerary_segment_5">
            <name>do itinerary segment</name>
            <objectRef id="id-c48b0f4b-2699-4190-a7c2-513a82a15d18" objectId="id-D-id-N-make-trip-subTotal" type="input" optional="false" consumed="true"/>
            <objectRef id="id-c155c542-a3b8-4da8-bc5d-b90d9b548d1d" objectId="id-D-id-N-make-trip-hotelDetails" type="input" optional="false" consumed="true"/>
            <objectRef id="id-5ff4cc09-900a-403e-8ae5-a8663f98e6aa" objectId="id-D-id-N-make-trip-customer" type="input" optional="false" consumed="true"/>
            <objectRef id="id-f0616ba4-19d2-4060-95f3-e1fe5f36634b" objectId="id-D-id-N-make-trip-carDetails" type="input" optional="false" consumed="true"/>
            <objectRef id="id-fcb92247-94c2-4202-913f-68d954b1769d" objectId="id-D-id-N-make-trip-flightDetails" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>subTotal = &lt;subTotal&gt;{number(/make_trip/subTotal/text())}&lt;/subTotal&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>hotelDetails = &lt;hotelDetails&gt;{/make_trip/hotelDetails/text()}&lt;/hotelDetails&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/make_trip/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>carDetails = &lt;carDetails&gt;{/make_trip/carDetails/text()}&lt;/carDetails&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>flightDetails = &lt;flightDetails&gt;{/make_trip/flightDetails/text()}&lt;/flightDetails&gt;</expression>
            </inputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" id="id-C-pay-4" originalID="pay_4">
            <name>pay</name>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>total</name>
                    <type>double</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>itinerary</name>
                    <type>itineraryType</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>payAccNumber</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="resourcing">
                <resourcing:resourcing xmlns:resourcing="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <offer initiator="user"/>
                    <allocate initiator="user"/>
                    <start initiator="user"/>
                </resourcing:resourcing>
            </attribute>
            <attribute name="secondary">
                <secondary:secondary xmlns:secondary="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema" xsi:nil="true"/>
            </attribute>
            <objectRef id="id-246db483-45a0-43fb-919c-c9119256f4a3" objectId="id-D-id-N-make-trip-itinerary" type="input" optional="false" consumed="true"/>
            <objectRef id="id-c90a3ccc-f12a-46f6-8c68-ae26eda4a9a5" objectId="id-D-id-N-make-trip-itinerary" type="input" optional="false" consumed="true"/>
            <objectRef id="id-5e8594dc-bba6-4aef-84ae-2867914e95f7" objectId="id-D-id-N-make-trip-payAccNumber" type="input" optional="false" consumed="true"/>
            <objectRef id="id-495d3f88-43bf-42eb-8b12-6ea54226fefa" objectId="id-D-id-N-make-trip-customer" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>total = &lt;total&gt;{sum(/make_trip/itinerary/itinerarySegment/subTotal)}&lt;/total&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>itinerary = &lt;itinerary&gt;{/make_trip/itinerary/*}&lt;/itinerary&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>payAccNumber = &lt;payAccNumber&gt;{/make_trip/payAccNumber/text()}&lt;/payAccNumber&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/make_trip/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:EventType" id="id-C-OutputCondition-2" originalID="OutputCondition_2"/>
        <Edge id="id-C-InputCondition-1-register-83" default="true" sourceId="id-C-InputCondition-1" targetId="id-C-register-83"/>
        <Edge id="id-C-register-83-do-itinerary-segment-5" default="true" sourceId="id-C-register-83" targetId="id-C-do-itinerary-segment-5"/>
        <Edge id="id-C-do-itinerary-segment-5-pay-4" default="true" sourceId="id-C-do-itinerary-segment-5" targetId="id-C-pay-4"/>
        <Edge id="id-C-pay-4-OutputCondition-2" default="true" sourceId="id-C-pay-4" targetId="id-C-OutputCondition-2"/>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-carDetails" originalID="id-N-make-trip_carDetails">
            <name>carDetails</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-customer" originalID="id-N-make-trip_customer">
            <name>customer</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-endDate" originalID="id-N-make-trip_endDate">
            <name>endDate</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-flightDetails" originalID="id-N-make-trip_flightDetails">
            <name>flightDetails</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-hotelDetails" originalID="id-N-make-trip_hotelDetails">
            <name>hotelDetails</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-itinerary" originalID="id-N-make-trip_itinerary">
            <name>itinerary</name>
            <type>itineraryType</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-legs" originalID="id-N-make-trip_legs">
            <name>legs</name>
            <type>legsType</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-payAccNumber" originalID="id-N-make-trip_payAccNumber">
            <name>payAccNumber</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-startDate" originalID="id-N-make-trip_startDate">
            <name>startDate</name>
            <type>date</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-make-trip-subTotal" originalID="id-N-make-trip_subTotal">
            <name>subTotal</name>
            <type>double</type>
        </Object>
    </Net>
    <Net id="id-N-do-itinerary-segment" originalID="do_itinerary_segment">
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:EventType" id="id-C-InputCondition-8" originalID="InputCondition_8"/>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" id="id-C-register-itinerary-26" originalID="register_itinerary_26">
            <name>register itinerary</name>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>leg</name>
                    <type>legType</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>startDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>serviceRequired</name>
                    <type>serviceType</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>endDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="resourcing">
                <resourcing:resourcing xmlns:resourcing="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <offer initiator="user"/>
                    <allocate initiator="user"/>
                    <start initiator="user"/>
                </resourcing:resourcing>
            </attribute>
            <attribute name="secondary">
                <secondary:secondary xmlns:secondary="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema" xsi:nil="true"/>
            </attribute>
            <objectRef id="id-c5104073-8b4e-4583-9ecb-6d04454309d2" objectId="id-D-id-N-do-itinerary-segment-startDate" type="output" optional="false" consumed="true"/>
            <objectRef id="id-b1d5329b-87d1-4c3e-a250-8b1d115cb5cb" objectId="id-D-id-N-do-itinerary-segment-serviceRequired" type="output" optional="false" consumed="true"/>
            <objectRef id="id-af8606bd-14e7-4ab2-9d16-4dfd2db7cbc9" objectId="id-D-id-N-do-itinerary-segment-endDate" type="output" optional="false" consumed="true"/>
            <objectRef id="id-d4ec79d4-baf8-49fb-913e-79c0d36f23fa" objectId="id-D-id-N-do-itinerary-segment-leg" type="input" optional="false" consumed="true"/>
            <objectRef id="id-36deff64-e8e7-4cca-b048-6b73e0d09203" objectId="id-D-id-N-do-itinerary-segment-customer" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>leg = &lt;leg&gt;{/do_itinerary_segment/leg/*}&lt;/leg&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/do_itinerary_segment/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>startDate = &lt;startDate&gt;{/register_itinerary/startDate/text()}&lt;/startDate&gt;</expression>
            </outputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>serviceRequired = &lt;serviceRequired&gt;{/register_itinerary/serviceRequired/*}&lt;/serviceRequired&gt;</expression>
            </outputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>endDate = &lt;endDate&gt;{/register_itinerary/endDate/text()}&lt;/endDate&gt;</expression>
            </outputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:ORSplitType" id="id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a"/>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" id="id-C-book-car-29" originalID="book_car_29">
            <name>book car</name>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>startDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>leg</name>
                    <type>legType</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>endDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>carDetails</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="resourcing">
                <resourcing:resourcing xmlns:resourcing="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <offer initiator="user"/>
                    <allocate initiator="user"/>
                    <start initiator="user"/>
                </resourcing:resourcing>
            </attribute>
            <attribute name="secondary">
                <secondary:secondary xmlns:secondary="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema" xsi:nil="true"/>
            </attribute>
            <objectRef id="id-d69d1b62-7819-4f54-a5e4-46d1489e172c" objectId="id-D-id-N-do-itinerary-segment-carDetails" type="output" optional="false" consumed="true"/>
            <objectRef id="id-3bfb2263-d518-4b73-bdc4-ce44a0e50297" objectId="id-D-id-N-do-itinerary-segment-leg" type="input" optional="false" consumed="true"/>
            <objectRef id="id-16a1c68c-dc25-4837-b409-f1424e5f2e44" objectId="id-D-id-N-do-itinerary-segment-startDate" type="input" optional="false" consumed="true"/>
            <objectRef id="id-a11c9d97-0d86-4ba6-b0ed-6e46f7f69ebb" objectId="id-D-id-N-do-itinerary-segment-endDate" type="input" optional="false" consumed="true"/>
            <objectRef id="id-46c81334-022c-4010-bacd-1a5c4ceaa7b2" objectId="id-D-id-N-do-itinerary-segment-customer" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>leg = &lt;leg&gt;{/do_itinerary_segment/leg/*}&lt;/leg&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>startDate = &lt;startDate&gt;{/do_itinerary_segment/startDate/text()}&lt;/startDate&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>endDate = &lt;endDate&gt;{/do_itinerary_segment/endDate/text()}&lt;/endDate&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/do_itinerary_segment/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>carDetails = &lt;carDetails&gt;{/book_car/carDetails/text()}&lt;/carDetails&gt;</expression>
            </outputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" id="id-C-book-flight-27" originalID="book_flight_27">
            <name>book flight</name>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>startDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>leg</name>
                    <type>legType</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>endDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>flightDetails</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="resourcing">
                <resourcing:resourcing xmlns:resourcing="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <offer initiator="user"/>
                    <allocate initiator="user"/>
                    <start initiator="user"/>
                </resourcing:resourcing>
            </attribute>
            <attribute name="secondary">
                <secondary:secondary xmlns:secondary="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema" xsi:nil="true"/>
            </attribute>
            <objectRef id="id-b09ac5f3-07aa-4b6b-930b-8d1f7a017d34" objectId="id-D-id-N-do-itinerary-segment-flightDetails" type="output" optional="false" consumed="true"/>
            <objectRef id="id-4eefe72b-2fa6-4d73-bbf2-f43599e894c3" objectId="id-D-id-N-do-itinerary-segment-leg" type="input" optional="false" consumed="true"/>
            <objectRef id="id-70598aab-aa14-475f-bb2e-46062fbb11fd" objectId="id-D-id-N-do-itinerary-segment-startDate" type="input" optional="false" consumed="true"/>
            <objectRef id="id-b5fe428f-beb3-47db-8993-df43f1aa02f5" objectId="id-D-id-N-do-itinerary-segment-endDate" type="input" optional="false" consumed="true"/>
            <objectRef id="id-6dc6fec9-3d3a-4658-be96-01fc252a70f3" objectId="id-D-id-N-do-itinerary-segment-customer" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>leg = &lt;leg&gt;{/do_itinerary_segment/leg/*}&lt;/leg&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>startDate = &lt;startDate&gt;{/do_itinerary_segment/startDate/text()}&lt;/startDate&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>endDate = &lt;endDate&gt;{/do_itinerary_segment/endDate/text()}&lt;/endDate&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/do_itinerary_segment/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>flightDetails = &lt;flightDetails&gt;{/book_flight/flightDetails/text()}&lt;/flightDetails&gt;</expression>
            </outputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" id="id-C-book-hotel-28" originalID="book_hotel_28">
            <name>book hotel</name>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>startDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>leg</name>
                    <type>legType</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>endDate</name>
                    <type>date</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>hotelDetails</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="resourcing">
                <resourcing:resourcing xmlns:resourcing="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <offer initiator="user"/>
                    <allocate initiator="user"/>
                    <start initiator="user"/>
                </resourcing:resourcing>
            </attribute>
            <attribute name="secondary">
                <secondary:secondary xmlns:secondary="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema" xsi:nil="true"/>
            </attribute>
            <objectRef id="id-af613588-b8ee-4f0b-8307-f735b7f23d37" objectId="id-D-id-N-do-itinerary-segment-hotelDetails" type="output" optional="false" consumed="true"/>
            <objectRef id="id-659148ae-49de-462e-ba05-d14fa9821f7f" objectId="id-D-id-N-do-itinerary-segment-leg" type="input" optional="false" consumed="true"/>
            <objectRef id="id-fdfc6f38-ec4f-47ae-ab1a-37f7c83c8c7f" objectId="id-D-id-N-do-itinerary-segment-startDate" type="input" optional="false" consumed="true"/>
            <objectRef id="id-5ce31ffa-453c-4512-8a06-f8ce51188303" objectId="id-D-id-N-do-itinerary-segment-endDate" type="input" optional="false" consumed="true"/>
            <objectRef id="id-f9375321-3323-42e4-881c-3c2bca6e71c3" objectId="id-D-id-N-do-itinerary-segment-customer" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>leg = &lt;leg&gt;{/do_itinerary_segment/leg/*}&lt;/leg&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>startDate = &lt;startDate&gt;{/do_itinerary_segment/startDate/text()}&lt;/startDate&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>endDate = &lt;endDate&gt;{/do_itinerary_segment/endDate/text()}&lt;/endDate&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/do_itinerary_segment/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>hotelDetails = &lt;hotelDetails&gt;{/book_hotel/hotelDetails/text()}&lt;/hotelDetails&gt;</expression>
            </outputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:TaskType" id="id-C-prepare-pay-30" originalID="prepare_pay_30">
            <name>prepare pay</name>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>hotelDetails</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>customer</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>carDetails</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="inputParam">
                <inputParam:inputParam xmlns:inputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>flightDetails</name>
                    <type>string</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </inputParam:inputParam>
            </attribute>
            <attribute name="outputParam">
                <outputParam:outputParam xmlns:outputParam="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <name>subTotal</name>
                    <type>double</type>
                    <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                </outputParam:outputParam>
            </attribute>
            <attribute name="resourcing">
                <resourcing:resourcing xmlns:resourcing="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema">
                    <offer initiator="user"/>
                    <allocate initiator="user"/>
                    <start initiator="user"/>
                </resourcing:resourcing>
            </attribute>
            <attribute name="secondary">
                <secondary:secondary xmlns:secondary="http://www.yawlfoundation.org/yawlschema" xmlns="http://www.yawlfoundation.org/yawlschema" xsi:nil="true"/>
            </attribute>
            <objectRef id="id-83a5a745-494a-443b-ac98-b2c47ab16073" objectId="id-D-id-N-do-itinerary-segment-subTotal" type="output" optional="false" consumed="true"/>
            <objectRef id="id-5e458135-8c8d-475e-a410-76f347ed34dd" objectId="id-D-id-N-do-itinerary-segment-hotelDetails" type="input" optional="false" consumed="true"/>
            <objectRef id="id-f989aa83-275c-4a94-8392-0c6b85dfc4a1" objectId="id-D-id-N-do-itinerary-segment-customer" type="input" optional="false" consumed="true"/>
            <objectRef id="id-6b91c5d3-b888-4b1c-b965-5314f18e86f5" objectId="id-D-id-N-do-itinerary-segment-carDetails" type="input" optional="false" consumed="true"/>
            <objectRef id="id-67dfc9d3-4fe0-477a-bb26-259b35a68acd" objectId="id-D-id-N-do-itinerary-segment-flightDetails" type="input" optional="false" consumed="true"/>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>hotelDetails = &lt;hotelDetails&gt;{/do_itinerary_segment/hotelDetails/text()}&lt;/hotelDetails&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>customer = &lt;customer&gt;{/do_itinerary_segment/customer/text()}&lt;/customer&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>carDetails = &lt;carDetails&gt;{/do_itinerary_segment/carDetails/text()}&lt;/carDetails&gt;</expression>
            </inputExpr>
            <inputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>flightDetails = &lt;flightDetails&gt;{/do_itinerary_segment/flightDetails/text()}&lt;/flightDetails&gt;</expression>
            </inputExpr>
            <outputExpr>
                <language>http://www.w3.org/2005/xpath-functions/</language>
                <expression>subTotal = &lt;subTotal&gt;{number(/prepare_pay/subTotal/text())}&lt;/subTotal&gt;</expression>
            </outputExpr>
        </Node>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:ORJoinType" id="id-aa9b2339-f878-4b81-a514-526255b31f29"/>
        <Node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:EventType" id="id-C-OutputCondition-9" originalID="OutputCondition_9"/>
        <Edge id="id-C-InputCondition-8-register-itinerary-26" default="true" sourceId="id-C-InputCondition-8" targetId="id-C-register-itinerary-26"/>
        <Edge id="id-C-id-C-register-itinerary-26-id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a" default="true" sourceId="id-C-register-itinerary-26" targetId="id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a"/>
        <Edge id="id-C-id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a-id-C-book-car-29" default="true" sourceId="id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a" targetId="id-C-book-car-29"/>
        <Edge id="id-C-id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a-id-C-book-flight-27" default="true" sourceId="id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a" targetId="id-C-book-flight-27"/>
        <Edge id="id-C-id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a-id-C-book-hotel-28" default="true" sourceId="id-04e46f2a-3947-49fd-bfa5-8a82a69ddf5a" targetId="id-C-book-hotel-28"/>
        <Edge id="id-C-id-aa9b2339-f878-4b81-a514-526255b31f29-id-C-prepare-pay-30" default="true" sourceId="id-aa9b2339-f878-4b81-a514-526255b31f29" targetId="id-C-prepare-pay-30"/>
        <Edge id="id-C-id-C-book-car-29-id-aa9b2339-f878-4b81-a514-526255b31f29" default="true" sourceId="id-C-book-car-29" targetId="id-aa9b2339-f878-4b81-a514-526255b31f29"/>
        <Edge id="id-C-id-C-book-flight-27-id-aa9b2339-f878-4b81-a514-526255b31f29" default="true" sourceId="id-C-book-flight-27" targetId="id-aa9b2339-f878-4b81-a514-526255b31f29"/>
        <Edge id="id-C-id-C-book-hotel-28-id-aa9b2339-f878-4b81-a514-526255b31f29" default="true" sourceId="id-C-book-hotel-28" targetId="id-aa9b2339-f878-4b81-a514-526255b31f29"/>
        <Edge id="id-C-prepare-pay-30-OutputCondition-9" default="true" sourceId="id-C-prepare-pay-30" targetId="id-C-OutputCondition-9"/>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-endDate" originalID="id-N-do-itinerary-segment_endDate">
            <name>endDate</name>
            <type>date</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-serviceRequired" originalID="id-N-do-itinerary-segment_serviceRequired">
            <name>serviceRequired</name>
            <type>serviceType</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-startDate" originalID="id-N-do-itinerary-segment_startDate">
            <name>startDate</name>
            <type>date</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-leg" originalID="id-N-do-itinerary-segment_leg">
            <name>leg</name>
            <type>legType</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-subTotal" originalID="id-N-do-itinerary-segment_subTotal">
            <name>subTotal</name>
            <type>double</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-hotelDetails" originalID="id-N-do-itinerary-segment_hotelDetails">
            <name>hotelDetails</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-customer" originalID="id-N-do-itinerary-segment_customer">
            <name>customer</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-carDetails" originalID="id-N-do-itinerary-segment_carDetails">
            <name>carDetails</name>
            <type>string</type>
        </Object>
        <Object xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ns2:SoftType" id="id-D-id-N-do-itinerary-segment-flightDetails" originalID="id-N-do-itinerary-segment_flightDetails">
            <name>flightDetails</name>
            <type>string</type>
        </Object>
    </Net>
</ns2:CanonicalProcess>
